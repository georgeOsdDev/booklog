"use strict";define(["underscore","backbone","config","util/jsonp","models/book.min"],function(e,n,r,o,t){var s;return s=n.Collection.extend({model:t,rank:"5",getUrl:function(){return"http://api.booklog.jp/json/"+r.bookloguser+"?category=0&count=100&rank="+this.rank},initialize:function(){var e;return e=this,this.on("next",function(){return this.rank>1?(this.rank-=1,this.fetch()):e.trigger("end")})},fetch:function(){var n,r;return r=this,n=new o(global),n.request(this.getUrl(),function(n){return e.each(n.books,function(e){return e.asin?(e.rank=r.rank,r.add(e)):void 0}),r.trigger("next")})}})});